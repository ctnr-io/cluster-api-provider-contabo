---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: contabomachinetemplates.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: ContaboMachineTemplate
    listKind: ContaboMachineTemplateList
    plural: contabomachinetemplates
    singular: contabomachinetemplate
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Time duration since creation of ContaboMachineTemplate
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1beta2
    schema:
      openAPIV3Schema:
        description: ContaboMachineTemplate is the Schema for the contabomachinetemplates
          API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: spec defines the desired state of ContaboMachineTemplate
            properties:
              template:
                description: ContaboMachineTemplateResource describes the data needed
                  to create a ContaboMachine from a template
                properties:
                  spec:
                    description: ContaboMachineSpec defines the desired state of ContaboMachine
                    properties:
                      instance:
                        description: Instance is the type of instance to create.
                        properties:
                          addOns:
                            description: AddOns Set attributes in the addons object
                              for the corresponding ones that need to be added to
                              the instance
                            properties:
                              additionalIps:
                                additionalProperties:
                                  type: string
                                description: AdditionalIps Set this attribute if you
                                  want to upgrade your instance with the Additional
                                  IPs addon. Please provide an empty object for the
                                  time being as value. There will be more configuration
                                  possible in the future.
                                type: object
                              addonsIds:
                                items:
                                  description: AddOnRequest defines model for AddOnRequest.
                                  properties:
                                    id:
                                      description: Id Id of the Addon. Please refer
                                        to list [here](https://contabo.com/en/product-list/?show_ids=true).
                                      format: int64
                                      type: integer
                                    quantity:
                                      description: Quantity The number of Addons you
                                        wish to aquire.
                                      format: int64
                                      type: integer
                                  required:
                                  - id
                                  - quantity
                                  type: object
                                type: array
                              backup:
                                additionalProperties:
                                  type: string
                                description: Backup Set this attribute if you want
                                  to upgrade your instance with the Automated backup
                                  addon.     Please provide an empty object for the
                                  time being as value. There will be more configuration
                                  possible     in the future.
                                type: object
                              customImage:
                                additionalProperties:
                                  type: string
                                description: CustomImage Set this attribute if you
                                  want to upgrade your instance with the Custom Images
                                  addon.   Please provide an empty object for the
                                  time being as value. There will be more configuration
                                  possible   in the future.
                                type: object
                              extraStorage:
                                description: ExtraStorage Set this attribute if you
                                  want to upgrade your instance with the Extra Storage
                                  addon.
                                properties:
                                  nvme:
                                    description: Nvme Specify the size in TB and the
                                      quantity
                                    items:
                                      type: string
                                    type: array
                                  ssd:
                                    description: Ssd Specify the size in TB and the
                                      quantity
                                    items:
                                      type: string
                                    type: array
                                type: object
                              privateNetworking:
                                additionalProperties:
                                  type: string
                                description: PrivateNetworking Set this attribute
                                  if you want to upgrade your instance with the Private
                                  Networking addon.   Please provide an empty object
                                  for the time being as value. There will be more
                                  configuration possible   in the future.
                                type: object
                            type: object
                          applicationId:
                            description: ApplicationId Application ID
                            type: string
                          defaultUser:
                            description: DefaultUser Default user name created for
                              login during (re-)installation with administrative privileges.
                              Allowed values for Linux/BSD are `admin` (use sudo to
                              apply administrative privileges like root) or `root`.
                              Allowed values for Windows are `admin` (has administrative
                              privileges like administrator) or `administrator`.
                            type: string
                          displayName:
                            description: DisplayName The display name of the instance
                            type: string
                          imageId:
                            description: ImageId ImageId to be used to setup the compute
                              instance. Default is Ubuntu 22.04
                            type: string
                          license:
                            description: License Additional licence in order to enhance
                              your chosen product, mainly needed for software licenses
                              on your product (not needed for windows).
                            type: string
                          period:
                            description: 'Period Initial contract period in months.
                              Available periods are: 1, 3, 6 and 12 months. Default
                              to 1 month'
                            format: int64
                            type: integer
                          productId:
                            description: ProductId Default is V92
                            type: string
                          region:
                            description: Region Instance Region where the compute
                              instance should be located. Default is EU
                            type: string
                          rootPassword:
                            description: RootPassword `secretId` of the password for
                              the `defaultUser` with administrator/root privileges.
                              For Linux/BSD please use SSH, for Windows RDP. Please
                              refer to Secrets Management API.
                            format: int64
                            type: integer
                          sshKeys:
                            description: SshKeys Array of `secretId`s of public SSH
                              keys for logging into as `defaultUser` with administrator/root
                              privileges. Applies to Linux/BSD systems. Please refer
                              to Secrets Management API.
                            items:
                              format: int64
                              type: integer
                            type: array
                          userData:
                            description: UserData [Cloud-Init](https://cloud-init.io/)
                              Config in order to customize during start of compute
                              instance.
                            type: string
                        required:
                        - period
                        type: object
                      privateNetworks:
                        description: PrivateNetworks specifies the network configuration
                          for the machine.
                        items:
                          description: CreatePrivateNetworkRequest defines model for
                            CreatePrivateNetworkRequest.
                          properties:
                            description:
                              description: Description The description of the Private
                                Network. There is a limit of 255 characters per Private
                                Network description.
                              type: string
                            name:
                              description: Name The name of the Private Network. It
                                may contain letters, numbers, colons, dashes, and
                                underscores. There is a limit of 255 characters per
                                Private Network name.
                              type: string
                            region:
                              description: Region Region where the Private Network
                                should be located. Default is `EU`
                              type: string
                          required:
                          - name
                          type: object
                        type: array
                      providerID:
                        description: ProviderID is the unique identifier as specified
                          by the cloud provider.
                        type: string
                      secrets:
                        description: Secrets references the secret with user data
                          to configure the machine.
                        items:
                          description: CreateSecretRequest defines model for CreateSecretRequest.
                          properties:
                            name:
                              description: Name The name of the secret that will keep
                                the password
                              type: string
                            type:
                              description: Type The type of the secret. Can be `password`
                                or `ssh`
                              type: string
                            value:
                              description: 'Value The secret value that needs to be
                                saved. In case of a password it must match a pattern
                                with at least one upper and lower case character and
                                either one number with two special characters `!@#$^&*?_~`
                                or at least three numbers with one special character
                                `!@#$^&*?_~`. This is expressed in the following regular
                                expression: `^((?=.*?[A-Z]{1,})(?=.*?[a-z]{1,}))(((?=(?:[^d]*d){1})(?=([^^&*?_~]*[!@#$^&*?_~]){2,}))|((?=(?:[^d]*d){3})(?=.*?[!@#$^&*?_~]+))).{8,}$`'
                              type: string
                          required:
                          - name
                          - type
                          - value
                          type: object
                        type: array
                    required:
                    - instance
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources: {}
